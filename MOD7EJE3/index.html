<!DOCTYPE html>
<html lang="es" itemscope itemtype="https://schema.org/ImageGallery">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galer√≠a Masonry Interactiva | Dise√±o Adaptativo de Im√°genes</title>
    
    <!-- Metaetiquetas SEO mejoradas -->
    <meta name="description" content="Galer√≠a de im√°genes estilo masonry con dise√±o adaptativo, filtros por categor√≠a y lightbox interactivo. Explora colecciones de naturaleza, arquitectura y urbanismo.">
    <meta name="keywords" content="galer√≠a masonry, dise√±o web, im√°genes responsivas, fotograf√≠a, naturaleza, arquitectura, lightbox">
    <meta name="author" content="Galer√≠a Visual">
    
    <!-- Open Graph para galer√≠as -->
    <meta property="og:title" content="Galer√≠a Masonry Interactiva">
    <meta property="og:description" content="Explora nuestra colecci√≥n de im√°genes con dise√±o masonry adaptativo">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://picsum.photos/id/10/1200/630">
    <meta property="og:image:alt" content="Vista previa de la galer√≠a masonry">
    
    <!-- Twitter Card para im√°genes -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Galer√≠a Masonry | Dise√±o Visual">
    <meta name="twitter:description" content="Galer√≠a interactiva con filtros y lightbox">
    <meta name="twitter:image" content="https://picsum.photos/id/15/1200/630">
    
    <!-- Schema.org para ImageGallery -->
    <meta itemprop="name" content="Galer√≠a Masonry Interactiva">
    <meta itemprop="description" content="Colecci√≥n de im√°genes organizadas en dise√±o masonry">
    
    <!-- Preconexi√≥n para recursos -->
    <link rel="preconnect" href="https://picsum.photos">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Preload para im√°genes cr√≠ticas -->
    <link rel="preload" as="image" href="https://picsum.photos/id/10/400/400" fetchpriority="high">
    <link rel="preload" as="image" href="https://picsum.photos/id/15/400/600" fetchpriority="high">
    
    <!-- Favicon din√°mico -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üñºÔ∏è</text></svg>">
    
    <link rel="stylesheet" href="style.css">
    
    <!-- Estilos cr√≠ticos inline -->
    <style>
        .gallery-loading {
            opacity: 0;
            animation: galleryFadeIn 0.6s ease forwards;
        }
        
        @keyframes galleryFadeIn {
            to { opacity: 1; }
        }
        
        /* Mejora de CLS (Cumulative Layout Shift) */
        .card figure {
            aspect-ratio: var(--img-ratio, 1/1);
        }
    </style>
</head>
<body class="gallery-loading" data-gallery-loaded="false">
    <!-- Navegaci√≥n de accesibilidad -->
    <a href="#main-gallery" class="skip-link" aria-label="Saltar a la galer√≠a principal">Saltar a galer√≠a</a>
    
    <!-- Header de galer√≠a -->
    <header class="gallery-header" role="banner">
        <div class="header-container">
            <!-- Logo y t√≠tulo -->
            <div class="gallery-brand">
                <h1 class="gallery-title">
                    <svg class="gallery-icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    Galer√≠a Masonry
                </h1>
                <p class="gallery-subtitle">Colecci√≥n visual interactiva</p>
            </div>
            
            <!-- Controles de galer√≠a -->
            <div class="gallery-controls">
                <!-- Theme switcher reutilizable -->
                <div class="theme-switch-wrapper">
                    <label class="theme-switch" for="gallery-theme-toggle" aria-label="Cambiar tema de la galer√≠a">
                        <input type="checkbox" id="gallery-theme-toggle" class="theme-switch-input">
                        <span class="slider round"></span>
                    </label>
                    <span class="theme-label">Tema</span>
                </div>
                
                <!-- NUEVO: Control de vista -->
                <div class="view-controls" role="group" aria-label="Controles de vista">
                    <button class="view-btn active" data-view="masonry" aria-label="Vista masonry" aria-pressed="true">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7"/>
                            <rect x="14" y="3" width="7" height="7"/>
                            <rect x="14" y="14" width="7" height="7"/>
                            <rect x="3" y="14" width="7" height="7"/>
                        </svg>
                    </button>
                    <button class="view-btn" data-view="grid" aria-label="Vista cuadr√≠cula" aria-pressed="false">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        </svg>
                    </button>
                    <button class="view-btn" data-view="list" aria-label="Vista lista" aria-pressed="false">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="8" y1="6" x2="21" y2="6"/>
                            <line x1="8" y1="12" x2="21" y2="12"/>
                            <line x1="8" y1="18" x2="21" y2="18"/>
                            <line x1="3" y1="6" x2="3" y2="6"/>
                            <line x1="3" y1="12" x2="3" y2="12"/>
                            <line x1="3" y1="18" x2="3" y2="18"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- NUEVO: Navegaci√≥n de filtros por categor√≠as -->
        <nav class="gallery-filters" aria-label="Filtros de galer√≠a">
            <div class="filters-container">
                <h2 class="filters-title">Categor√≠as</h2>
                
                <!-- Lista de filtros -->
                <ul class="filter-list" role="tablist" aria-label="Seleccionar categor√≠a">
                    <li role="none">
                        <button class="filter-btn active" 
                                role="tab" 
                                aria-selected="true" 
                                data-filter="all" 
                                id="filter-all">
                            <svg class="filter-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="8" x2="12" y2="16"/>
                                <line x1="8" y1="12" x2="16" y2="12"/>
                            </svg>
                            <span>Todas</span>
                            <span class="filter-count" aria-label="8 im√°genes">(8)</span>
                        </button>
                    </li>
                    <li role="none">
                        <button class="filter-btn" 
                                role="tab" 
                                aria-selected="false" 
                                data-filter="nature" 
                                id="filter-nature"
                                tabindex="-1">
                            <svg class="filter-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                            <span>Naturaleza</span>
                            <span class="filter-count" aria-label="2 im√°genes">(2)</span>
                        </button>
                    </li>
                    <li role="none">
                        <button class="filter-btn" 
                                role="tab" 
                                aria-selected="false" 
                                data-filter="architecture" 
                                id="filter-architecture"
                                tabindex="-1">
                            <svg class="filter-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                <path d="M3 9h18M9 21V9"/>
                            </svg>
                            <span>Arquitectura</span>
                            <span class="filter-count" aria-label="2 im√°genes">(2)</span>
                        </button>
                    </li>
                    <li role="none">
                        <button class="filter-btn" 
                                role="tab" 
                                aria-selected="false" 
                                data-filter="urban" 
                                id="filter-urban"
                                tabindex="-1">
                            <svg class="filter-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/>
                                <path d="M6 1v3M10 1v3M14 1v3"/>
                            </svg>
                            <span>Urbano</span>
                            <span class="filter-count" aria-label="2 im√°genes">(2)</span>
                        </button>
                    </li>
                    <li role="none">
                        <button class="filter-btn" 
                                role="tab" 
                                aria-selected="false" 
                                data-filter="animals" 
                                id="filter-animals"
                                tabindex="-1">
                            <svg class="filter-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20.42 4.58a5.4 5.4 0 0 0-7.65 0l-.77.78-.77-.78a5.4 5.4 0 0 0-7.65 0C1.46 6.7 1.33 10.28 4 13l8 8 8-8c2.67-2.72 2.54-6.3.42-8.42z"/>
                            </svg>
                            <span>Animales</span>
                            <span class="filter-count" aria-label="1 imagen">(1)</span>
                        </button>
                    </li>
                </ul>
                
                <!-- NUEVO: Filtro de ordenamiento -->
                <div class="sort-controls" role="group" aria-label="Ordenar im√°genes">
                    <label for="sort-select" class="sort-label">Ordenar por:</label>
                    <select id="sort-select" class="sort-select" aria-controls="main-gallery">
                        <option value="default" selected>Recomendado</option>
                        <option value="date-newest">M√°s recientes</option>
                        <option value="date-oldest">M√°s antiguas</option>
                        <option value="name-asc">Nombre (A-Z)</option>
                        <option value="name-desc">Nombre (Z-A)</option>
                    </select>
                </div>
            </div>
        </nav>
        
        <!-- Breadcrumbs para navegaci√≥n estructural -->
        <nav class="breadcrumbs" aria-label="Ruta de navegaci√≥n">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/" class="breadcrumb-link">Inicio</a>
                </li>
                <li class="breadcrumb-item">
                    <a href="/galerias" class="breadcrumb-link">Galer√≠as</a>
                </li>
                <li class="breadcrumb-item" aria-current="page">
                    <span class="breadcrumb-current">Masonry Interactiva</span>
                </li>
            </ol>
        </nav>
    </header>

    <!-- Contenido principal -->
    <main id="main-gallery" class="main-gallery" role="main" tabindex="-1">
        <!-- Regi√≥n ARIA live para anuncios de filtros -->
        <div class="sr-only" 
             aria-live="polite" 
             aria-atomic="true" 
             id="filter-announcement">
            Galer√≠a filtrada. Mostrando 8 im√°genes.
        </div>
        
        <!-- Grid de galer√≠a -->
        <div class="gallery-container">
            <!-- Grid masonry original mejorado -->
            <div class="gallery-grid" role="list" aria-label="Galer√≠a de im√°genes">
                
                <!-- Card 1 - Naturaleza -->
                <article class="card" 
                         role="listitem" 
                         data-category="nature" 
                         data-date="2024-01-15"
                         data-id="img-1"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/10/1200/800" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Bosque N√≥rdico"
                           data-description="Vista panor√°mica de un bosque denso con √°rboles altos"
                           aria-label="Ver imagen ampliada: Bosque N√≥rdico">
                            <img src="https://picsum.photos/id/10/400/400" 
                                 alt="Bosque N√≥rdico - Vista densa de √°rboles altos y vegetaci√≥n abundante"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="400"
                                 height="400"
                                 decoding="async">
                            <meta itemprop="width" content="400">
                            <meta itemprop="height" content="400">
                            <meta itemprop="license" content="https://creativecommons.org/licenses/by/2.0/">
                            <meta itemprop="creator" content="Fot√≥grafo Natural">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Fotograf√≠a de un bosque denso con √°rboles altos y vegetaci√≥n abundante, tomada en regi√≥n n√≥rdica.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Bosque N√≥rdico</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-15" itemprop="datePublished">
                                    15 Ene 2024
                                </time>
                                <span class="card-category" itemprop="about" content="Naturaleza">
                                    Naturaleza
                                </span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Vista panor√°mica de un bosque denso con √°rboles altos y vegetaci√≥n abundante en regi√≥n n√≥rdica.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-1">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">42</span>
                            </button>
                            <button class="card-btn share-btn" aria-label="Compartir imagen" data-image-id="img-1">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"/>
                                    <circle cx="6" cy="12" r="3"/>
                                    <circle cx="18" cy="19" r="3"/>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button class="card-btn info-btn" aria-label="Ver informaci√≥n de la imagen" data-image-id="img-1">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <line x1="12" y1="16" x2="12" y2="12"/>
                                    <line x1="12" y1="8" x2="12.01" y2="8"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <meta itemprop="url" content="https://picsum.photos/id/10/1200/800">
                </article>

                <!-- Card 2 - Aventura (tall) -->
                <article class="card card-tall" 
                         role="listitem" 
                         data-category="nature" 
                         data-date="2024-01-14"
                         data-id="img-2"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/15/800/1200" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Cascada Majestuosa"
                           data-description="Cascada alta cayendo entre rocas cubiertas de musgo"
                           aria-label="Ver imagen ampliada: Cascada Majestuosa">
                            <img src="https://picsum.photos/id/15/400/600" 
                                 alt="Cascada Majestuosa - Agua cayendo desde gran altura entre rocas cubiertas de musgo verde"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="400"
                                 height="600"
                                 decoding="async">
                            <meta itemprop="width" content="400">
                            <meta itemprop="height" content="600">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Fotograf√≠a vertical de una cascada alta con agua cayendo entre rocas cubiertas de musgo.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Cascada Majestuosa</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-14">14 Ene 2024</time>
                                <span class="card-category">Aventura</span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Cascada alta cayendo entre rocas cubiertas de musgo en un entorno natural virgen.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-2">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">128</span>
                            </button>
                            <button class="card-btn share-btn" aria-label="Compartir imagen" data-image-id="img-2">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"/>
                                    <circle cx="6" cy="12" r="3"/>
                                    <circle cx="18" cy="19" r="3"/>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Card 3 - Paisaje (wide) -->
                <article class="card card-wide" 
                         role="listitem" 
                         data-category="landscape" 
                         data-date="2024-01-13"
                         data-id="img-3"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/28/1200/800" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Horizonte Infinito"
                           data-description="Paisaje amplio con monta√±as al atardecer"
                           aria-label="Ver imagen ampliada: Horizonte Infinito">
                            <img src="https://picsum.photos/id/28/600/400" 
                                 alt="Horizonte Infinito - Paisaje monta√±oso al atardecer con colores naranjas y p√∫rpuras"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="600"
                                 height="400"
                                 decoding="async">
                            <meta itemprop="width" content="600">
                            <meta itemprop="height" content="400">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Paisaje panor√°mico de monta√±as al atardecer con colores c√°lidos en el horizonte.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Horizonte Infinito</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-13">13 Ene 2024</time>
                                <span class="card-category">Paisaje</span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Paisaje amplio con monta√±as al atardecer, capturando los colores c√°lidos del horizonte.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-3">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">89</span>
                            </button>
                            <button class="card-btn share-btn" aria-label="Compartir imagen" data-image-id="img-3">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"/>
                                    <circle cx="6" cy="12" r="3"/>
                                    <circle cx="18" cy="19" r="3"/>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Card 4 - Animales -->
                <article class="card" 
                         role="listitem" 
                         data-category="animals" 
                         data-date="2024-01-12"
                         data-id="img-4"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/40/800/800" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Gato Curioso"
                           data-description="Retrato de un gato dom√©stico con expresi√≥n curiosa"
                           aria-label="Ver imagen ampliada: Gato Curioso">
                            <img src="https://picsum.photos/id/40/400/400" 
                                 alt="Gato Curioso - Retrato de un gato dom√©stico con ojos grandes y expresi√≥n curiosa"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="400"
                                 height="400"
                                 decoding="async">
                            <meta itemprop="width" content="400">
                            <meta itemprop="height" content="400">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Retrato cercano de un gato dom√©stico con pelaje suave y expresi√≥n curiosa.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Gato Curioso</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-12">12 Ene 2024</time>
                                <span class="card-category">Animales</span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Retrato de un gato dom√©stico con expresi√≥n curiosa y pelaje suave, capturado en luz natural.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-4">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">256</span>
                            </button>
                            <button class="card-btn share-btn" aria-label="Compartir imagen" data-image-id="img-4">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"/>
                                    <circle cx="6" cy="12" r="3"/>
                                    <circle cx="18" cy="19" r="3"/>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Card 5 - Urbanismo (big) -->
                <article class="card card-big" 
                         role="listitem" 
                         data-category="urban" 
                         data-date="2024-01-11"
                         data-id="img-5"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/56/1200/1200" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Ciudad Nocturna"
                           data-description="Skyline urbano iluminado por la noche"
                           aria-label="Ver imagen ampliada: Ciudad Nocturna">
                            <img src="https://picsum.photos/id/56/800/800" 
                                 alt="Ciudad Nocturna - Skyline urbano con rascacielos iluminados contra el cielo oscuro"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="800"
                                 height="800"
                                 decoding="async">
                            <meta itemprop="width" content="800">
                            <meta itemprop="height" content="800">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Vista a√©rea del skyline urbano iluminado durante la noche con rascacielos y luces de la ciudad.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Ciudad Nocturna</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-11">11 Ene 2024</time>
                                <span class="card-category">Urbanismo</span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Skyline urbano iluminado por la noche, capturando la energ√≠a y vida de la ciudad moderna.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-5">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">312</span>
                            </button>
                            <button class="card-btn share-btn" aria-label="Compartir imagen" data-image-id="img-5">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"/>
                                    <circle cx="6" cy="12" r="3"/>
                                    <circle cx="18" cy="19" r="3"/>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Card 6 - Arquitectura (tall) -->
                <article class="card card-tall" 
                         role="listitem" 
                         data-category="architecture" 
                         data-date="2024-01-10"
                         data-id="img-6"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/88/600/900" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Estructuras Modernas"
                           data-description="Arquitectura contempor√°nea con l√≠neas limpias"
                           aria-label="Ver imagen ampliada: Estructuras Modernas">
                            <img src="https://picsum.photos/id/88/400/600" 
                                 alt="Estructuras Modernas - Edificio arquitect√≥nico con dise√±o contempor√°neo y l√≠neas geom√©tricas"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="400"
                                 height="600"
                                 decoding="async">
                            <meta itemprop="width" content="400">
                            <meta itemprop="height" content="600">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Fotograf√≠a arquitect√≥nica de un edificio moderno con l√≠neas geom√©tricas y dise√±o contempor√°neo.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Estructuras Modernas</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-10">10 Ene 2024</time>
                                <span class="card-category">Arquitectura</span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Arquitectura contempor√°nea con l√≠neas limpias y dise√±o geom√©trico innovador.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-6">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">174</span>
                            </button>
                            <button class="card-btn share-btn" aria-label="Compartir imagen" data-image-id="img-6">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="18" cy="5" r="3"/>
                                    <circle cx="6" cy="12" r="3"/>
                                    <circle cx="18" cy="19" r="3"/>
                                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Card 7 - Naturaleza adicional -->
                <article class="card" 
                         role="listitem" 
                         data-category="nature" 
                         data-date="2024-01-09"
                         data-id="img-7"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/101/800/800" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Lago Sereno"
                           data-description="Lago tranquilo reflejando las monta√±as circundantes"
                           aria-label="Ver imagen ampliada: Lago Sereno">
                            <img src="https://picsum.photos/id/101/400/400" 
                                 alt="Lago Sereno - Agua tranquila reflejando monta√±as y cielo despejado"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="400"
                                 height="400"
                                 decoding="async">
                            <meta itemprop="width" content="400">
                            <meta itemprop="height" content="400">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Fotograf√≠a de un lago tranquilo con reflejo perfecto de las monta√±as circundantes.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Lago Sereno</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-09">09 Ene 2024</time>
                                <span class="card-category">Naturaleza</span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Lago tranquilo reflejando las monta√±as circundantes en un d√≠a sin viento.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-7">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">93</span>
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Card 8 - Arquitectura adicional -->
                <article class="card card-wide" 
                         role="listitem" 
                         data-category="architecture" 
                         data-date="2024-01-08"
                         data-id="img-8"
                         itemscope 
                         itemtype="https://schema.org/ImageObject">
                    <figure class="card-figure" itemprop="image" itemscope itemtype="https://schema.org/ImageObject">
                        <a href="https://picsum.photos/id/201/1200/800" 
                           class="card-link" 
                           data-lightbox="gallery"
                           data-title="Puente Hist√≥rico"
                           data-description="Puente antiguo con arquitectura cl√°sica sobre r√≠o"
                           aria-label="Ver imagen ampliada: Puente Hist√≥rico">
                            <img src="https://picsum.photos/id/201/600/400" 
                                 alt="Puente Hist√≥rico - Estructura antigua de piedra sobre un r√≠o tranquilo"
                                 class="card-image"
                                 itemprop="contentUrl"
                                 loading="lazy"
                                 width="600"
                                 height="400"
                                 decoding="async">
                            <meta itemprop="width" content="600">
                            <meta itemprop="height" content="400">
                        </a>
                        <figcaption class="sr-only" itemprop="caption">
                            Fotograf√≠a de un puente hist√≥rico de piedra cruzando un r√≠o en un entorno natural.
                        </figcaption>
                    </figure>
                    <div class="card-content" itemprop="description">
                        <div class="card-header">
                            <h3 class="card-title" itemprop="name">Puente Hist√≥rico</h3>
                            <div class="card-meta">
                                <time class="card-date" datetime="2024-01-08">08 Ene 2024</time>
                                <span class="card-category">Arquitectura</span>
                            </div>
                        </div>
                        <p class="card-description" itemprop="description">
                            Puente antiguo con arquitectura cl√°sica construido en piedra sobre un r√≠o tranquilo.
                        </p>
                        <div class="card-actions">
                            <button class="card-btn like-btn" aria-label="Me gusta esta imagen" data-image-id="img-8">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                                <span class="like-count">147</span>
                            </button>
                        </div>
                    </div>
                </article>
            </div>
        </div>
        
        <!-- NUEVO: Paginaci√≥n -->
        <nav class="gallery-pagination" aria-label="Paginaci√≥n de galer√≠a">
            <ul class="pagination-list">
                <li class="pagination-item">
                    <button class="pagination-btn pagination-prev" aria-label="P√°gina anterior" disabled>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="15 18 9 12 15 6"/>
                        </svg>
                        Anterior
                    </button>
                </li>
                <li class="pagination-item">
                    <button class="pagination-btn active" aria-label="P√°gina 1" aria-current="page">1</button>
                </li>
                <li class="pagination-item">
                    <button class="pagination-btn" aria-label="P√°gina 2">2</button>
                </li>
                <li class="pagination-item">
                    <button class="pagination-btn" aria-label="P√°gina 3">3</button>
                </li>
                <li class="pagination-item">
                    <span class="pagination-ellipsis">...</span>
                </li>
                <li class="pagination-item">
                    <button class="pagination-btn" aria-label="P√°gina 10">10</button>
                </li>
                <li class="pagination-item">
                    <button class="pagination-btn pagination-next" aria-label="P√°gina siguiente">
                        Siguiente
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9 18 15 12 9 6"/>
                        </svg>
                    </button>
                </li>
            </ul>
            
            <div class="pagination-info" aria-live="polite">
                Mostrando <span class="current-range">1-8</span> de <span class="total-items">64</span> im√°genes
            </div>
        </nav>
    </main>

    <!-- NUEVO: Lightbox Modal -->
    <div class="lightbox-modal" 
         id="lightbox-modal" 
         role="dialog" 
         aria-modal="true" 
         aria-label="Visualizador de imagen"
         hidden>
        <div class="lightbox-overlay" data-close="lightbox"></div>
        <div class="lightbox-container">
            <button class="lightbox-close" aria-label="Cerrar visualizador" data-close="lightbox">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>
            
            <div class="lightbox-content">
                <figure class="lightbox-figure">
                    <img class="lightbox-image" 
                         src="" 
                         alt=""
                         loading="eager"
                         decoding="sync">
                    <figcaption class="lightbox-caption"></figcaption>
                </figure>
                
                <div class="lightbox-info">
                    <h3 class="lightbox-title"></h3>
                    <p class="lightbox-description"></p>
                    <div class="lightbox-meta">
                        <span class="lightbox-date"></span>
                        <span class="lightbox-category"></span>
                    </div>
                    <div class="lightbox-stats">
                        <button class="lightbox-like" aria-label="Me gusta">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                            </svg>
                            <span class="like-count">0</span>
                        </button>
                        <button class="lightbox-download" aria-label="Descargar imagen">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7 10 12 15 17 10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Descargar
                        </button>
                    </div>
                </div>
            </div>
            
            <button class="lightbox-nav lightbox-prev" aria-label="Imagen anterior">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"/>
                </svg>
            </button>
            <button class="lightbox-nav lightbox-next" aria-label="Imagen siguiente">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Footer de galer√≠a -->
    <footer class="gallery-footer" role="contentinfo">
        <div class="footer-container">
            <div class="footer-info">
                <h3 class="footer-title">Galer√≠a Masonry Interactiva</h3>
                <p class="footer-description">
                    Colecci√≥n visual con dise√±o adaptativo y filtros interactivos. 
                    Todas las im√°genes son de dominio p√∫blico o tienen licencia Creative Commons.
                </p>
            </div>
            
            <div class="footer-links">
                <a href="/licencia" class="footer-link">Licencia</a>
                <a href="/privacidad" class="footer-link">Privacidad</a>
                <a href="/contacto" class="footer-link">Contacto</a>
                <button class="footer-link" id="toggle-contrast" aria-label="Alternar alto contraste">
                    Alto Contraste
                </button>
            </div>
            
            <div class="footer-credits">
                <p>¬© 2024 Galer√≠a Visual. Desarrollado con accesibilidad en mente.</p>
                <p class="footer-stats" aria-live="polite">
                    <span class="image-count">8</span> im√°genes cargadas ‚Ä¢ 
                    <span class="memory-usage">2.4 MB</span> usado
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="script.js" defer></script>
    
    <!-- Inline scripts para funcionalidades cr√≠ticas -->
    <script>
        // Marcar galer√≠a como cargada
        document.addEventListener('DOMContentLoaded', () => {
            document.body.setAttribute('data-gallery-loaded', 'true');
            
            // Mejorar CLS estableciendo aspect ratios
            document.querySelectorAll('.card-image').forEach(img => {
                const ratio = img.naturalWidth / img.naturalHeight;
                img.parentElement.parentElement.style.setProperty('--img-ratio', ratio);
            });
        });
    </script>
</body>
</html>
