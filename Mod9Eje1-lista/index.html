<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Manipulador de lista interactivo. A√±ade, edita y elimina items din√°micamente con una interfaz moderna y accesible.">
    <meta name="keywords" content="lista, tareas, items, gesti√≥n, organizaci√≥n, web app">
    <meta name="author" content="Manipulador de Lista">
    <title>Manipulador de Lista | Gesti√≥n Din√°mica de Items</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìù</text></svg>">
    
    <!-- Preconexi√≥n para fuentes (si se usan) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <style>
        /* Estilos cr√≠ticos para mejor rendimiento inicial */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #4a6cf7;
            color: white;
            padding: 8px 16px;
            text-decoration: none;
            z-index: 1000;
            border-radius: 0 0 4px 0;
            transition: top 0.3s ease;
        }
        
        .skip-link:focus {
            top: 0;
        }
    </style>
</head>
<body>
    <!-- Skip link para accesibilidad -->
    <a href="#main-content" class="skip-link sr-only focus-visible">
        Saltar al contenido principal
    </a>
    
    <!-- Contenedor principal -->
    <div class="app-container">
        <!-- Header sem√°ntico -->
        <header class="app-header" role="banner">
            <div class="header-content">
                <h1 class="app-title">
                    <span class="app-icon" aria-hidden="true">üìù</span>
                    <span class="app-title-text">Manipulador de Lista</span>
                </h1>
                <p class="app-subtitle" id="app-description">
                    A√±ade, edita y elimina items din√°micamente con una interfaz moderna y accesible
                </p>
            </div>
        </header>

        <!-- Contenido principal -->
        <main id="main-content" class="main-content" role="main" tabindex="-1">
            <!-- Tarjeta principal -->
            <div class="card" role="region" aria-labelledby="card-title">
                <div class="card-header">
                    <h2 id="card-title" class="card-title">Gesti√≥n de Items</h2>
                    <div class="card-subtitle" id="card-instructions">
                        Presiona Enter o el bot√≥n "A√±adir" para agregar un nuevo item a la lista.
                    </div>
                </div>

                <!-- Secci√≥n de entrada -->
                <section class="input-section" aria-labelledby="input-label">
                    <div class="input-group">
                        <label for="itemInput" id="input-label" class="input-label">
                            <span class="label-text">Nuevo Item</span>
                            <span class="sr-only">, presiona Enter o el bot√≥n A√±adir para agregar</span>
                        </label>
                        <div class="input-wrapper">
                            <input 
                                type="text" 
                                id="itemInput" 
                                class="form-input"
                                placeholder="Escribe aqu√≠ tu nuevo item..."
                                aria-describedby="input-hint"
                                autocomplete="off"
                                maxlength="100"
                                enterkeyhint="done"
                            >
                            <div id="input-hint" class="input-hint">
                                M√°ximo 100 caracteres
                            </div>
                        </div>
                        
                        <div class="button-group">
                            <button 
                                id="addBtn" 
                                class="btn btn-primary"
                                type="button"
                                aria-label="A√±adir item a la lista"
                            >
                                <span class="btn-icon" aria-hidden="true">‚ûï</span>
                                <span class="btn-text">A√±adir</span>
                            </button>
                            
                            <button 
                                id="clearInputBtn" 
                                class="btn btn-secondary"
                                type="button"
                                aria-label="Limpiar campo de entrada"
                            >
                                <span class="btn-icon" aria-hidden="true">üóëÔ∏è</span>
                                <span class="btn-text">Limpiar</span>
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Estad√≠sticas -->
                <section class="stats-section" aria-labelledby="stats-title">
                    <h3 id="stats-title" class="sr-only">Estad√≠sticas de la lista</h3>
                    <div class="stats-grid" role="status" aria-live="polite" aria-atomic="true">
                        <div class="stat-item" role="region" aria-label="Total de items en la lista">
                            <span class="stat-icon" aria-hidden="true">üìä</span>
                            <div class="stat-content">
                                <span class="stat-label">Total Items</span>
                                <span class="stat-value" id="itemCount">0</span>
                            </div>
                        </div>
                        
                        <div class="stat-item" role="region" aria-label="Caracteres disponibles">
                            <span class="stat-icon" aria-hidden="true">üî§</span>
                            <div class="stat-content">
                                <span class="stat-label">Caracteres Libres</span>
                                <span class="stat-value" id="charCount">100</span>
                            </div>
                        </div>
                        
                        <div class="stat-item" role="region" aria-label="√öltima acci√≥n realizada">
                            <span class="stat-icon" aria-hidden="true">‚è±Ô∏è</span>
                            <div class="stat-content">
                                <span class="stat-label">√öltima Acci√≥n</span>
                                <span class="stat-value" id="lastAction">Ninguna</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Lista de items -->
                <section class="list-section" aria-labelledby="list-title">
                    <div class="list-header">
                        <h3 id="list-title" class="list-title">Items de la Lista</h3>
                        <div class="list-subtitle" id="list-instructions" role="status" aria-live="polite">
                            <span id="listStatus">No hay items en la lista</span>
                        </div>
                    </div>
                    
                    <!-- Contenedor de lista -->
                    <div class="list-container">
                        <ul 
                            id="itemList" 
                            class="item-list"
                            role="list"
                            aria-describedby="list-instructions"
                            aria-label="Lista de items, cada item puede ser editado o eliminado"
                        >
                            <!-- Los items se a√±adir√°n aqu√≠ din√°micamente -->
                            <li class="empty-state" id="emptyState">
                                <div class="empty-state-content">
                                    <span class="empty-state-icon" aria-hidden="true">üì≠</span>
                                    <p class="empty-state-text">La lista est√° vac√≠a</p>
                                    <p class="empty-state-hint">A√±ade tu primer item usando el campo de arriba</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Contador de items visibles para lectores de pantalla -->
                    <div class="sr-only" id="listCounter" aria-live="polite" aria-atomic="true">
                        La lista contiene 0 items
                    </div>
                </section>

                <!-- Acciones -->
                <section class="actions-section" aria-labelledby="actions-title">
                    <h3 id="actions-title" class="sr-only">Acciones disponibles</h3>
                    <div class="actions-grid">
                        <button 
                            id="clearAllBtn" 
                            class="btn btn-danger"
                            type="button"
                            aria-label="Eliminar todos los items de la lista"
                        >
                            <span class="btn-icon" aria-hidden="true">üî•</span>
                            <span class="btn-text">Limpiar Todo</span>
                        </button>
                        
                        <button 
                            id="exportBtn" 
                            class="btn btn-success"
                            type="button"
                            aria-label="Exportar lista como texto"
                        >
                            <span class="btn-icon" aria-hidden="true">üíæ</span>
                            <span class="btn-text">Exportar Lista</span>
                        </button>
                        
                        <button 
                            id="sortBtn" 
                            class="btn btn-secondary"
                            type="button"
                            aria-label="Ordenar lista alfab√©ticamente"
                        >
                            <span class="btn-icon" aria-hidden="true">üî†</span>
                            <span class="btn-text">Ordenar</span>
                        </button>
                    </div>
                </section>
                
                <!-- Feedback para acciones -->
                <div class="feedback-area" role="status" aria-live="polite" aria-atomic="true">
                    <div id="actionFeedback" class="feedback-message"></div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer" role="contentinfo">
            <div class="footer-content">
                <div class="footer-info">
                    <p class="footer-text">
                        <span class="footer-icon" aria-hidden="true">‚ö°</span>
                        Manipulador de Lista v2.0
                        <span class="sr-only">, aplicaci√≥n accesible para gesti√≥n de items</span>
                    </p>
                    <p class="footer-hint">
                        <span class="keyboard-hint" aria-hidden="true">‚å®Ô∏è</span>
                        <span class="sr-only">Atajos de teclado: </span>
                        Enter para a√±adir, Esc para cancelar edici√≥n
                    </p>
                </div>
                <div class="footer-meta">
                    <p class="footer-copyright">
                        &copy; <span id="currentYear">2024</span> - Todos los derechos reservados
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Modal para edici√≥n (oculto por defecto) -->
    <dialog id="editDialog" class="edit-dialog" aria-labelledby="editDialogTitle">
        <div class="dialog-content">
            <h3 id="editDialogTitle" class="dialog-title">Editar Item</h3>
            <div class="dialog-body">
                <label for="editInput" class="dialog-label">Nuevo contenido:</label>
                <input 
                    type="text" 
                    id="editInput" 
                    class="dialog-input"
                    aria-describedby="editDialogHint"
                >
                <p id="editDialogHint" class="dialog-hint">
                    Presiona Enter para guardar o Esc para cancelar
                </p>
            </div>
            <div class="dialog-actions">
                <button id="cancelEditBtn" class="btn btn-secondary" type="button">
                    Cancelar
                </button>
                <button id="saveEditBtn" class="btn btn-primary" type="button">
                    Guardar Cambios
                </button>
            </div>
        </div>
    </dialog>

    <!-- Scripts -->
    <script>
        // Script m√≠nimo inicial
        document.addEventListener('DOMContentLoaded', function() {
            // A√±o actual en el footer
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // Focus management para skip link
            const skipLink = document.querySelector('.skip-link');
            if (skipLink) {
                skipLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    const mainContent = document.getElementById('main-content');
                    if (mainContent) {
                        mainContent.setAttribute('tabindex', '-1');
                        mainContent.focus();
                    }
                });
            }
            
            // Contador de caracteres
            const itemInput = document.getElementById('itemInput');
            const charCount = document.getElementById('charCount');
            
            if (itemInput && charCount) {
                itemInput.addEventListener('input', function() {
                    const remaining = 100 - this.value.length;
                    charCount.textContent = remaining;
                    charCount.style.color = remaining < 20 ? '#dc3545' : '#666';
                });
            }
        });
    </script>
    
    <script src="script.js" defer></script>
</body>
</html>
